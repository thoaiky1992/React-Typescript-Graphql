{"version":3,"sources":["components/common/Loading.tsx","config/history.ts","config/axios.ts","layouts/AuthLayout.tsx","components/layouts/LeftSide.tsx","components/layouts/navbar.tsx","store/types/authenticate.type.ts","store/actions/authenticate/authenticate.action.ts","layouts/DefaultLayout.tsx","routes/configRoute.tsx","components/common/Dialog.tsx","pages/auth/forgot-password.tsx","pages/chat/home.tsx","assets/icons/loading_black.gif","components/chat/box-commet.tsx","assets/icons/loading.gif","components/chat/chat-hsitory.tsx","components/chat/header-info-user.tsx","components/chat/user.tsx","components/chat/list-user.tsx","routes/routes.ts","pages/auth/login.tsx","pages/auth/Register.tsx","pages/chat/chat-detail.tsx","pages/user/change-password.tsx","App.tsx","reportWebVitals.ts","store/reducers/authenticate/authenticate.reducer.ts","store/root.reducer.ts","redux/configStore.ts","index.tsx"],"names":["Loading","className","src","width","height","alt","history","createBrowserHistory","axiosInstance","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","error","Promise","reject","response","status","push","AuthLayout","children","Helmet","rel","href","type","title","style","backgroundImage","to","LeftSide","props","user","useSelector","state","auth","path","window","location","pathname","id","margin","avatar","username","includes","NavBarLayoutDefault","useHistory","role","onClick","removeItem","FETCH_USER","LOGOUT_USER","LOGIN","UPDATE_USER_ONLINES","updateUserOnlineAction","listUserId","payload","TYPE_LAYOUTS","DefaultPaylout","dispatch","useDispatch","useEffect","socket","emit","on","data","TYPE_DIALOG","CustomRoute","useState","loading","setLoading","fetchCurrentUser","a","get","result","isAuth","ChildrenComponent","exact","component","layout","AUTH","DEFAULT","Dialog","message","isShow","onClose","document","body","classList","add","remove","SUCCESS","defaultProps","HomePage","fetchData","BoxComment","content","setContent","currentUser","params","useParams","handleCreateMessage","fromId","_id","toId","post","name","value","onChange","e","target","onKeyUp","key","handleKeyUp","placeholder","cursor","gifLoading","ChatHistory","messages","loadMore","handleLoadMore","endLoad","iconLoading","display","map","index","moment","created_at","locale","format","HeaderInfoUser","count","undefined","setUser","fetchSuer","UserItem","isSelected","setIsSelected","userOnlines","user_onlines","String","ListUser","users","setUsers","socketRef","useRef","rows","length","current","listId","usersTemp","forEach","array","from","increment","k","moveItemInArray","item","i","findIndexById","off","ListRoutes","open","ERROR","dialog","setDialog","email","password","handleLogin","test","setItem","access_token","connect","handleOnChange","disconnect","val","autoComplete","textDecoration","color","info","setInfo","isCheckbox","setIsCheckBox","handleOnchange","signUp","handleDialog","checked","handleCheckbox","htmlFor","setEmail","hanleSubmit","disabled","setMessages","messageRef","listMessageRef","skipRef","firstLoad","setCount","setLoadMore","divListMessageRef","handleOnScroll","div","querySelector","Number","scrollTop","setTimeout","dataTemp","fetchMessages","scrollHeight","addEventListener","ref","currentPassword","newPassword","confirmPassword","setState","err","setErr","handleSubmit","swal","text","icon","buttons","then","io","transports","App","route","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducers","combineReducers","action","composeEnhancers","compose","store","middlewares","thunk","enhancers","applyMiddleware","createStore","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.23eb75c7.chunk.js","sourcesContent":["import { FC } from \"react\"\n\nexport const Loading: FC = () => {\n  return (\n    <div className=\"page-loader-wrapper\">\n      <div className=\"loader\">\n        <div className=\"m-t-30\">\n          <img className=\"zmdi-hc-spin\" src=\"/assets/images/logo.svg\" width=\"48\" height=\"48\" alt=\"Compass\" />\n        </div>\n        <p>Please wait...</p>\n      </div>\n    </div>\n  )\n}","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","import axios, { AxiosInstance } from 'axios';\nimport { history } from './history';\n\nconst axiosInstance: AxiosInstance = axios.create({\n  baseURL: '/api',\n  headers: {\n    'content-type': 'application/json',\n  }\n})\naxiosInstance.interceptors.request.use(\n  config => {\n    // Do something before request is sent\n    const token = localStorage.getItem('access_token')\n    config.headers[\"Authorization\"] = \"Bearer \" + token;\n    return config;\n  },\n  error => {\n    Promise.reject(error);\n  }\n);\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      history.push('/login');\n    }\n    return Promise.reject(error);\n  },\n)\n\nexport default axiosInstance;","import React from 'react'\nimport { Helmet } from 'react-helmet';\nimport { NavLink } from 'react-router-dom';\n\nexport const AuthLayout: React.FC = ({ children }) => {\n  return (\n    <div>\n      <Helmet>\n        <link rel=\"stylesheet\" href=\"assets/css/authentication.css\" />\n      </Helmet>\n      {/* Navbar */}\n      <nav className=\"navbar navbar-expand-lg fixed-top navbar-transparent bg-transparent\">\n        <div className=\"container\">\n          <div className=\"navbar-translate n_logo\">\n            <button className=\"navbar-toggler\" type=\"button\">\n              <span className=\"navbar-toggler-bar bar1\" />\n              <span className=\"navbar-toggler-bar bar2\" />\n              <span className=\"navbar-toggler-bar bar3\" />\n            </button>\n          </div>\n          <div className=\"navbar-collapse\">\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <span className=\"nav-link\" title=\"Follow us on Google\">\n                  <i className=\"zmdi zmdi-google\" />\n                  <p className=\"d-lg-none d-xl-none\">Google</p>\n                </span>\n              </li>\n              <li className=\"nav-item\">\n                <span className=\"nav-link\" title=\"Like us on Facebook\">\n                  <i className=\"zmdi zmdi-facebook\" />\n                  <p className=\"d-lg-none d-xl-none\">Facebook</p>\n                </span>\n              </li>\n              <li className=\"nav-item\">\n                <span className=\"nav-link\" title=\"Follow us on Github\">\n                  <i className=\"zmdi zmdi-github\" />\n                  <p className=\"d-lg-none d-xl-none\">Github</p>\n                </span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      {/* End Navbar */}\n      <div className=\"page-header\">\n        <div className=\"page-header-image\" style={{ backgroundImage: 'url(assets/images/login.jpg)' }} />\n        <div className=\"container\">\n          <div className=\"col-md-12 content-center\">\n            <div className=\"card-plain\">\n              {/* children component */}\n              {children}\n              {/* children component */}\n            </div>\n          </div>\n        </div>\n        <footer className=\"footer\">\n          <div className=\"container\">\n            <div className=\"copyright\">\n              <span>App Chat <NavLink to=\"/\">Kỳ Smile</NavLink></span>\n            </div>\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}","import React from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { NavLink } from \"react-router-dom\";\nimport { RootState } from \"../../store/root.reducer\";\n\nexport const LeftSide: React.FC = (props) => {\n  const user = useSelector((state: RootState) => state.auth.user);\n  const path = window.location.pathname;\n  return (\n    <aside id=\"leftsidebar\" className=\"sidebar\">\n      <div className=\"menu\">\n        <ul className=\"list\">\n          <li style={{ margin: '20px 0px 40px 0px' }}>\n            <div className=\"user-info\">\n              <div className=\"image\"><a href=\"profile.html\"><img src={user?.avatar} alt=\"User\" /></a></div>\n              <div className=\"detail\" style={{ margin: '10px 0px 20px 0px' }}>\n                <h5>{user?.username}</h5>\n              </div>\n            </div>\n          </li>\n          <li className={path.includes('chat') ? 'active' : ''}>\n            <NavLink to=\"/\"><i className=\"zmdi zmdi-comments\" /><span>Chat</span></NavLink>\n          </li>\n          <li className={path.includes('password') ? 'active' : ''}>\n            <NavLink to=\"/change-password\">\n              <i className=\"zmdi zmdi-account-box-phone\" /><span>Change Password</span>\n            </NavLink>\n          </li>\n          {/* <li>\n            <a><i className=\"zmdi zmdi-edit\" /><span>Edit</span></a>\n          </li> */}\n        </ul>\n      </div>\n      <span className=\"life\">\n        App Chat &nbsp;<i className=\"fa fa-heart-o\"></i>&nbsp; Kỳ Smile\n      </span>\n    </aside>\n  )\n\n}","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const NavBarLayoutDefault: React.FC = () => {\n  const history = useHistory();\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    history.push('/login')\n  }\n  return (\n    <nav className=\"navbar\">\n      <div className=\"col-12\">\n        <ul className=\"nav navbar-nav navbar-left\">\n          <li><a className=\"toggle-left-side\"><i className=\"zmdi zmdi-swap\" /></a></li>\n        </ul>\n        <ul className=\"nav navbar-nav navbar-right\">\n          <li className=\"dropdown\">\n            <a className=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\">\n              <i className=\"zmdi zmdi-notifications\" />\n              <div className=\"notify\"><span className=\"heartbit\" /><span className=\"point\" /></div>\n            </a>\n            <ul className=\"dropdown-menu dropdown-menu-right slideDown\">\n              <li className=\"header\">NOTIFICATIONS</li>\n              <li className=\"body\">\n                <ul className=\"menu list-unstyled\">\n                  <li> <a >\n                    <div className=\"icon-circle bg-blue\"><i className=\"zmdi zmdi-account\" /></div>\n                    <div className=\"menu-info\">\n                      <h4>8 New Members joined</h4>\n                      <p><i className=\"zmdi zmdi-time\" /> 14 mins ago </p>\n                    </div>\n                  </a> </li>\n                  <li> <a >\n                    <div className=\"icon-circle bg-amber\"><i className=\"zmdi zmdi-shopping-cart\" /></div>\n                    <div className=\"menu-info\">\n                      <h4>4 Sales made</h4>\n                      <p> <i className=\"zmdi zmdi-time\" /> 22 mins ago </p>\n                    </div>\n                  </a> </li>\n                  <li> <a >\n                    <div className=\"icon-circle bg-red\"><i className=\"zmdi zmdi-delete\" /></div>\n                    <div className=\"menu-info\">\n                      <h4><b>Nancy Doe</b> Deleted account</h4>\n                      <p> <i className=\"zmdi zmdi-time\" /> 3 hours ago </p>\n                    </div>\n                  </a> </li>\n                  <li> <a >\n                    <div className=\"icon-circle bg-green\"><i className=\"zmdi zmdi-edit\" /></div>\n                    <div className=\"menu-info\">\n                      <h4><b>Nancy</b> Changed name</h4>\n                      <p> <i className=\"zmdi zmdi-time\" /> 2 hours ago </p>\n                    </div>\n                  </a> </li>\n                  <li> <a >\n                    <div className=\"icon-circle bg-grey\"><i className=\"zmdi zmdi-comment-text\" /></div>\n                    <div className=\"menu-info\">\n                      <h4><b>John</b> Commented your post</h4>\n                      <p> <i className=\"zmdi zmdi-time\" /> 4 hours ago </p>\n                    </div>\n                  </a> </li>\n                  <li> <a >\n                    <div className=\"icon-circle bg-purple\"><i className=\"zmdi zmdi-refresh\" /></div>\n                    <div className=\"menu-info\">\n                      <h4><b>John</b> Updated status</h4>\n                      <p> <i className=\"zmdi zmdi-time\" /> 3 hours ago </p>\n                    </div>\n                  </a> </li>\n                  <li> <a >\n                    <div className=\"icon-circle bg-light-blue\"><i className=\"zmdi zmdi-settings\" /></div>\n                    <div className=\"menu-info\">\n                      <h4>Settings Updated</h4>\n                      <p> <i className=\"zmdi zmdi-time\" /> Yesterday </p>\n                    </div>\n                  </a>\n                  </li>\n                </ul>\n              </li>\n              <li className=\"footer\"> <a >View All Notifications</a> </li>\n            </ul>\n          </li>\n          <li>\n            <a onClick={handleLogout} className=\"mega-menu\" data-close=\"true\"><i className=\"zmdi zmdi-power\" /></a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  )\n}","import { UserEntity } from \"../../entity/user.entity\"\n\nexport const FETCH_USER = 'FETCH_USER'\nexport const LOGOUT_USER = 'LOGOUT_USER'\nexport const LOGIN = 'LOGIN'\nexport const UPDATE_USER_ONLINES = 'UPDATE_USER_ONLINES'\n\n\ninterface fetchUserType {\n  type: typeof FETCH_USER,\n  payload: {\n    user: UserEntity | undefined\n  }\n}\n\ninterface updateUserOnlines {\n  type: typeof UPDATE_USER_ONLINES,\n  payload: {\n    listUserId: Array<string>\n  }\n}\n\ninterface logoutType {\n  type: typeof LOGOUT_USER\n}\n\ninterface LoginType {\n  type: typeof LOGIN\n  payload: {\n    access_token: string,\n    user: UserEntity\n  }\n}\nexport type AuthenticateTypes = LoginType\n  | fetchUserType\n  | logoutType\n  | updateUserOnlines","import { UserEntity } from \"../../../entity/user.entity\";\nimport { FETCH_USER, LOGOUT_USER, LOGIN, AuthenticateTypes, UPDATE_USER_ONLINES } from \"../../types/authenticate.type\";\n\nexport function fetchUserAction(user: UserEntity | undefined): AuthenticateTypes {\n  return {\n    type: FETCH_USER,\n    payload: {\n      user\n    }\n  }\n}\nexport function loginAction(payload: { access_token: string, user: UserEntity }): AuthenticateTypes {\n  return {\n    type: LOGIN,\n    payload\n  }\n}\nexport function logoutAction(): AuthenticateTypes {\n  return {\n    type: LOGOUT_USER\n  }\n}\n\nexport function updateUserOnlineAction(listUserId: Array<string>): AuthenticateTypes {\n  return {\n    type: UPDATE_USER_ONLINES,\n    payload: {\n      listUserId\n    }\n  }\n}","import React, { useEffect } from \"react\";\nimport { LeftSide } from \"../components/layouts/LeftSide\";\nimport { NavBarLayoutDefault } from \"../components/layouts/navbar\";\nimport { Helmet } from \"react-helmet\";\nimport { socket } from \"../App\";\nimport { useDispatch } from \"react-redux\";\nimport { updateUserOnlineAction } from \"../store/actions/authenticate/authenticate.action\";\n\nexport const DefaultPaylout: React.FC = ({ children }) => {\n  const dispatch = useDispatch()\n  useEffect(() => {\n    socket.emit('join_room');\n    socket.on('get_users_online', (data) => {\n      dispatch(updateUserOnlineAction(data))\n    })\n\n  }, [])\n  return (\n    <div className=\"main-default\">\n\n      <LeftSide />\n\n      <div className=\"main-default__top\">\n        <NavBarLayoutDefault />\n      </div>\n      <div className=\"main-default__bottom\">\n        {children}\n      </div>\n\n      <Helmet>\n        <link rel=\"stylesheet\" href=\"/assets/css/chatapp.css\" />\n      </Helmet>\n\n    </div>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Route, RouteComponentProps, RouteProps } from \"react-router\";\nimport { Loading } from \"../components/common/Loading\";\nimport axiosInstance from \"../config/axios\";\nimport { AuthLayout } from \"../layouts/AuthLayout\";\nimport { DefaultPaylout } from \"../layouts/DefaultLayout\";\nimport { fetchUserAction } from \"../store/actions/authenticate/authenticate.action\";\n\nexport enum TYPE_LAYOUTS {\n  AUTH,\n  DEFAULT\n}\n\nexport interface PrivateRouteProps extends RouteProps {\n  exact?: boolean;\n  path: string;\n  isAuth: boolean;\n  layout: TYPE_LAYOUTS,\n  component: React.ComponentType<RouteComponentProps<any>> | React.ComponentType<any> | undefined;\n}\nexport const CustomRoute = (props: PrivateRouteProps) => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n\n  const fetchCurrentUser = async () => {\n    const result = await axiosInstance.get('/users/fetch-current-user');\n    dispatch(fetchUserAction(result.data))\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    if (props.isAuth) {\n      fetchCurrentUser()\n    }\n  }, [])\n\n  if (loading && props.isAuth) return <Loading />\n\n  const ChildrenComponent: any = () =>\n  (\n    <Route\n      exact={props.exact}\n      path={props.path}\n      component={props.component}\n    />\n  )\n  switch (props.layout) {\n    case TYPE_LAYOUTS.AUTH:\n      return (\n        <AuthLayout>\n          <ChildrenComponent />\n        </AuthLayout>\n      );\n    case TYPE_LAYOUTS.DEFAULT:\n      return (\n        <DefaultPaylout>\n          <ChildrenComponent />\n        </DefaultPaylout>\n      )\n    default:\n      return (\n        <DefaultPaylout>\n          <ChildrenComponent />\n        </DefaultPaylout>\n      )\n  }\n\n}","import React, { useEffect } from \"react\";\nexport enum TYPE_DIALOG {\n  SUCCESS,\n  ERROR\n}\ninterface IProps {\n  type?: TYPE_DIALOG,\n  message?: String,\n  isShow: Boolean,\n  onClose?: (value: boolean) => void\n}\n\nexport const Dialog: React.FC<IProps> = ({ type, message, isShow, onClose }) => {\n\n  useEffect(() => {\n    if (isShow)\n      document.body.classList.add('open__popup')\n\n    return () => {\n      document.body.classList.remove('open__popup')\n    }\n  }, [isShow])\n  return (\n    // <div className={'parent ' + (isShow ? 'active' : '')}>\n    <div className={'popup center' + (isShow ? ' active' : '')}>\n      <div className={'icon ' + (type === TYPE_DIALOG.SUCCESS ? '' : 'error')}>\n        <i className=\"fa fa-times\"></i>\n      </div>\n      <div className=\"title\">\n        {type === TYPE_DIALOG.SUCCESS ? 'Success!!' : 'Error!!'}\n      </div>\n      <div className=\"description\">\n        {message}\n      </div>\n      <div className=\"dismiss-btn\">\n        <button className=\"btn\" id=\"dismiss-popup-btn\" onClick={() => onClose ? onClose(!isShow) : null}>\n          Close\n          </button>\n      </div>\n    </div>\n    // </div>\n  );\n}\n\nDialog.defaultProps = {\n  message: 'asdasdasd'\n}","import React, { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Dialog, TYPE_DIALOG } from \"../../components/common/Dialog\";\nimport axiosInstance from \"../../config/axios\";\n\nexport const ForgotPassword: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [dialog, setDialog] = useState({\n    open: false,\n    message: '',\n    type: TYPE_DIALOG.ERROR\n  });\n  const hanleSubmit = async () => {\n    try {\n      setLoading(true);\n      await axiosInstance.post('/auth/forgot-password', { email })\n      setDialog({\n        ...dialog,\n        open: true,\n        message: 'A secrete password has been sent to your mail, let\\'s check and change the new password to be access to the app, if you have any issues, please contact me',\n        type: TYPE_DIALOG.SUCCESS\n      });\n      setEmail('');\n    } catch (e) {\n      if (e && e?.response?.data?.message) {\n        setDialog({\n          ...dialog,\n          open: true,\n          type: TYPE_DIALOG.ERROR,\n          message: e?.response?.data?.message\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n  return (\n    <div className=\"form\">\n      <Dialog isShow={dialog.open} message={dialog.message} type={dialog.type} onClose={(val) => setDialog({ ...dialog, open: val })} />\n      <div className=\"header\">\n        <div className=\"logo-container\">\n          <img src=\"assets/images/logo.svg\" alt=\"\" />\n        </div>\n        <h5>Forgot Password?</h5>\n        <span>Enter your e-mail address below to reset your password.</span>\n      </div>\n      <div className=\"content\">\n        <div className=\"input-group input-lg\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEmail(e.target.value)}\n            autoComplete=\"off\"\n            placeholder=\"Enter Email\"\n          />\n          <span className=\"input-group-addon\">\n            <i className=\"zmdi zmdi-email\" />\n          </span>\n        </div>\n      </div>\n      <div className=\"footer text-center\">\n        <button disabled={loading} onClick={hanleSubmit} className=\"btn l-cyan btn-round btn-lg btn-block waves-effect waves-light\">\n          {loading ? 'LOADING...' : 'SUBMIT'}\n        </button>\n        <h6 className=\"m-t-20\">\n          <NavLink to=\"/login\" className=\"link\" style={{ textDecoration: 'underline' }}>\n            Back to Login?\n          </NavLink>\n        </h6>\n      </div>\n    </div>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Loading } from \"../../components/common/Loading\";\nimport axiosInstance from \"../../config/axios\";\n\nexport const HomePage: React.FC = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchData();\n\n    async function fetchData() {\n      const result = await axiosInstance.get('/users/last-user');\n      history.push('/chat/' + result.data[0]['_id']);\n    }\n  }, [])\n\n  if (loading) return <Loading />\n  return (\n    <div>chat</div>\n  )\n}","export default __webpack_public_path__ + \"static/media/loading_black.503bde28.gif\";","import React, { FC, useState } from \"react\"\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport axiosInstance from \"../../config/axios\";\nimport { RootState } from \"../../store/root.reducer\";\nimport gifLoading from '../../assets/icons/loading_black.gif';\nexport const BoxComment: FC = () => {\n  const [content, setContent] = useState('');\n  const [loading, setLoading] = useState(false);\n  const currentUser = useSelector((state: RootState) => state.auth.user)\n  const params = useParams<{ id: string }>();\n  const handleCreateMessage = async () => {\n    const payload = {\n      fromId: currentUser?._id,\n      toId: params.id,\n      content\n    }\n    await axiosInstance.post('/messages', payload);\n    setContent('');\n  }\n  const handleKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      handleCreateMessage()\n    }\n  }\n\n  return (\n    <div className=\"input-group p-t-15\">\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        name=\"content\"\n        value={content}\n        onChange={(e) => setContent(e.target.value)}\n        onKeyUp={(e) => handleKeyUp(e)}\n        placeholder=\"Enter text here...\"\n      />\n      <span className=\"input-group-addon\" style={{ cursor: 'pointer' }} onClick={handleCreateMessage}>\n        {loading ? <img src={gifLoading} width=\"22 \" height=\"22\" alt=\"\" /> : <i className=\"zmdi zmdi-mail-send\" />}\n      </span>\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/loading.5a284895.gif\";","import moment from \"moment\"\nimport React from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { MessageEntity } from \"../../entity/message.entity\"\nimport { RootState } from \"../../store/root.reducer\"\nimport iconLoading from '../../assets/icons/loading.gif';\ninterface IChatHistoryProps {\n  messages?: MessageEntity[]\n  loadMore?: boolean\n  handleLoadMore?: () => void,\n  endLoad?: boolean\n}\nexport const ChatHistory: React.FC<IChatHistoryProps> = ({ messages, loadMore, handleLoadMore, endLoad }) => {\n  const currentUser = useSelector((state: RootState) => state.auth.user)\n  return (\n    <ul>\n      {\n        loadMore && <li className=\"text-center\">\n          <img src={iconLoading} width=\"30\" height=\"30\" alt=\"\" />\n        </li>\n      }\n      {\n        !endLoad && <li className={(loadMore ? 'd-none' : '')} style={{ display: 'none' }}>\n          <span onClick={handleLoadMore}>Load more ...</span>\n        </li>\n      }\n      {\n        messages?.map((message, index) => (\n          <li key={index} className=\"clearfix\">\n            <div className={'message-data ' + (currentUser?._id === message.fromId._id ? 'text-right' : '')}>\n\n            </div>\n            <div className=\"message-info right\">\n              <div className=\"message-info__image\">\n                {currentUser?._id !== message.fromId._id ? <img src={message.fromId.avatar} width=\"30\" height=\"30\" alt=\"\" /> : <div></div>}\n              </div>\n              <div className={'message-info__message ' + (currentUser?._id === message.fromId._id ? 'right' : '')}>\n                <div className={'message ' + (currentUser?._id === message.fromId._id ? 'other-message right' : 'my-message')}>\n                  {message.content}\n                </div>\n                <div className=\"time\">\n                  <span className=\"message-data-time\">{moment(message.created_at).locale('en').format('LLLL')}</span>\n                </div>\n              </div>\n            </div>\n          </li>\n        ))\n      }\n    </ul >\n  )\n}","import React, { useEffect, useState } from \"react\"\nimport { useParams } from \"react-router\"\nimport axiosInstance from \"../../config/axios\"\nimport { UserEntity } from \"../../entity/user.entity\"\n\ninterface IHeaderInfoUserProps {\n  count: number\n}\nexport const HeaderInfoUser: React.FC<IHeaderInfoUserProps> = ({ count }) => {\n  const params = useParams<{ id: string }>()\n  const [user, setUser] = useState<UserEntity | undefined>(undefined)\n  useEffect(() => {\n    async function fetchSuer() {\n      const result = await axiosInstance.get('/users/' + params.id);\n      setUser(result.data);\n    }\n    fetchSuer();\n  }, [])\n\n  if (!user) return <div>loading...</div>\n  return (\n    <div className=\"chat-header clearfix\">\n      <img src={user?.avatar} alt=\"avatar\" width=\"45\" height=\"45\" />\n      <div className=\"chat-about\">\n        <div className=\"chat-with\">{user?.username || ''}</div>\n        <div className=\"chat-num-messages\">Already {count || 0} messages</div>\n      </div>\n      <span className=\"list_btn btn btn-primary btn-round float-md-right\"><i className=\"zmdi zmdi-comments\" /></span>\n    </div>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { NavLink } from \"react-router-dom\";\nimport { socket } from \"../../App\";\nimport { UserEntity } from \"../../entity/user.entity\";\nimport { updateUserOnlineAction } from \"../../store/actions/authenticate/authenticate.action\";\nimport { RootState } from \"../../store/root.reducer\";\n\ninterface IPropUserItem {\n  user: UserEntity\n}\ninterface IParamTypes {\n  id: string\n}\n\nexport const UserItem: React.FC<IPropUserItem> = ({ user }) => {\n  const params = useParams<IParamTypes>();\n  const dispatch = useDispatch();\n  const [isSelected, setIsSelected] = useState(false);\n  const userOnlines = useSelector((state: RootState) => state.auth.user_onlines)\n\n  useEffect(() => {\n    if (params.id && params.id === user._id) setIsSelected(true);\n  }, [params])\n\n  return (\n    <NavLink to={'/chat/' + user._id}>\n      <li key={user._id} className={'clearfix user-item ' + (isSelected ? 'active' : '')}>\n\n        <img className={userOnlines.includes(String(user._id)) ? 'active' : ''} src={user.avatar} alt=\"avatar\" width=\"45\" height=\"45\" />\n        <div className=\"about\">\n          <div className=\"name\">{user.username}</div>\n          <div className={'status ' + (userOnlines.includes(String(user._id)) ? 'active' : '')} >\n            <i className={'zmdi zmdi-circle offline ' + (userOnlines.includes(String(user._id)) ? 'active' : '')} />\n            {userOnlines.includes(String(user._id)) ? 'online' : 'offline'}\n          </div>\n        </div>\n      </li>\n    </NavLink >\n  )\n}","import React, { FC, RefObject, useEffect, useRef, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { socket } from \"../../App\";\nimport axiosInstance from \"../../config/axios\";\nimport { UserEntity } from \"../../entity/user.entity\";\nimport { updateUserOnlineAction } from \"../../store/actions/authenticate/authenticate.action\";\nimport { UserItem } from \"./user\";\n\ninterface IListUserProps {\n  ref?: RefObject<FC<{}>>;\n}\nexport const ListUser: React.FC<IListUserProps> = () => {\n  const [users, setUsers] = useState<UserEntity[]>([]);\n  const [loading, setLoading] = useState(true);\n  const socketRef = useRef(socket);\n  const dispatch = useDispatch();\n  const params = useParams<{ id: string }>();\n  const findIndexById = (array: Array<UserEntity>, id: string): number => {\n    let index = -1;\n    array.forEach((item, i) => {\n      if (item._id === id) {\n        index = i;\n      }\n    });\n    return index;\n  }\n  const moveItemInArray = (array: Array<UserEntity>, from: number, to: number) => {\n    if (to === from) return array;\n\n    var target = array[from];\n    var increment = to < from ? -1 : 1;\n\n    for (let k = from; k !== to; k += increment) {\n      array[k] = array[k + increment];\n    }\n    array[to] = target;\n    return array;\n  }\n  useEffect(() => {\n    async function fetchData() {\n      const result = await axiosInstance.get('/users');\n      setUsers([...result.data.rows]);\n      setLoading(false);\n    }\n    fetchData();\n  }, [])\n\n  useEffect(() => {\n    if (users.length) {\n      socketRef.current.on('get_users_online', (listId: Array<string>) => {\n        dispatch(updateUserOnlineAction(listId))\n        let usersTemp = [...users];\n        users.forEach(user => {\n          if (listId.includes(user._id)) {\n            moveItemInArray(usersTemp, findIndexById(usersTemp, user._id), 0)\n          }\n        })\n        setUsers(usersTemp);\n      })\n      return () => {\n        socket.off('get_users_online');\n      }\n    }\n  }, [users])\n\n  if (loading) return <div>loading...</div>\n  return (\n    <ul className=\"chat-list list-unstyled m-b-0\">\n      {users.length && users.map((user) => <UserItem user={user} key={user._id} />)}\n    </ul>\n  )\n}","import { ForgotPassword } from \"../pages/auth/forgot-password\";\nimport { LoginPage } from \"../pages/auth/login\";\nimport { RegisterPage } from \"../pages/auth/Register\";\nimport { HomePage } from \"../pages/chat/home\";\nimport { ChatDetailPage } from \"../pages/chat/chat-detail\";\nimport { PrivateRouteProps, TYPE_LAYOUTS } from \"./configRoute\";\nimport { ChangePasswordPage } from \"../pages/user/change-password\";\n\nexport const ListRoutes: PrivateRouteProps[] = [\n  {\n    path: '/login',\n    isAuth: false,\n    layout: TYPE_LAYOUTS.AUTH,\n    component: LoginPage,\n    exact: true\n  },\n  {\n    path: '/register',\n    isAuth: false,\n    layout: TYPE_LAYOUTS.AUTH,\n    component: RegisterPage,\n    exact: true\n  },\n  {\n    path: '/forgot-password',\n    isAuth: false,\n    layout: TYPE_LAYOUTS.AUTH,\n    component: ForgotPassword,\n    exact: true\n  },\n  {\n    path: '/home',\n    isAuth: true,\n    layout: TYPE_LAYOUTS.DEFAULT,\n    component: HomePage,\n    exact: true\n  },\n  {\n    path: '/',\n    isAuth: true,\n    layout: TYPE_LAYOUTS.DEFAULT,\n    component: HomePage,\n    exact: true\n  },\n  {\n    path: '/chat/:id',\n    isAuth: true,\n    layout: TYPE_LAYOUTS.DEFAULT,\n    component: ChatDetailPage,\n    exact: true\n  },\n  {\n    path: '/change-password',\n    isAuth: true,\n    layout: TYPE_LAYOUTS.DEFAULT,\n    component: ChangePasswordPage,\n    exact: true\n  }\n]","import React, { useEffect, useState } from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport { NavLink, useHistory } from \"react-router-dom\"\nimport { socket } from \"../../App\";\nimport { Dialog, TYPE_DIALOG } from \"../../components/common/Dialog\";\nimport axiosInstance from \"../../config/axios\";\nimport { loginAction } from \"../../store/actions/authenticate/authenticate.action\";\n\n\nexport const LoginPage: React.FC = () => {\n  const [dialog, setDialog] = useState({\n    open: false,\n    message: '',\n    type: TYPE_DIALOG.ERROR\n  })\n  const [user, setUser] = useState({\n    email: '',\n    password: ''\n  })\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleLogin = async () => {\n    try {\n      if (!user.email.length) {\n        setDialog({\n          ...dialog, type: TYPE_DIALOG.ERROR, message: 'Username should not be empty', open: true\n        })\n        return;\n      }\n      if (!user.password.length) {\n        setDialog({\n          ...dialog, type: TYPE_DIALOG.ERROR, message: 'Password should not be empty', open: true\n        })\n        return;\n      }\n      if (!(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(user.email))) {\n        setDialog({\n          ...dialog, open: true, type: TYPE_DIALOG.ERROR, message: 'Email isn\\'t valid'\n        })\n        return;\n      }\n      const result = await axiosInstance.post('/auth/login', user);\n      localStorage.setItem('access_token', result.data.access_token);\n      dispatch(loginAction(result.data));\n      socket.auth = {\n        token: result.data.access_token\n      }\n      socket.connect();\n      history.push('/home');\n\n    } catch (e) {\n      if (e && e?.response.data.message) {\n        setDialog({\n          ...dialog,\n          open: true,\n          type: TYPE_DIALOG.ERROR,\n          message: e?.response.data.message\n        })\n      }\n    }\n  }\n  const handleOnChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setUser({\n      ...user, [name]: value\n    })\n  }\n  const handleClose = (val: boolean) => {\n    setDialog({\n      ...dialog, open: val\n    })\n  }\n  useEffect(() => {\n    socket.disconnect();\n  }, [])\n  return (\n    <div className=\"form\">\n      <Dialog isShow={dialog.open} message={dialog.message} onClose={(value) => handleClose(value)} />\n      <div className=\"header\">\n        <div className=\"logo-container\">\n          <img src=\"assets/images/logo.svg\" alt=\"\" />\n        </div>\n        <h5>Login</h5>\n      </div>\n      <div className=\"content\">\n        <div className=\"input-group input-lg\">\n          <input type=\"text\" className=\"form-control\" onChange={(e) => handleOnChange(e)} name=\"email\" autoComplete=\"off\" placeholder=\"Enter Email\" />\n          <span className=\"input-group-addon\">\n            <i className=\"zmdi zmdi-account-circle\" />\n          </span>\n        </div>\n        <div className=\"input-group input-lg\">\n          <input type=\"password\" placeholder=\"Password\" onChange={(e) => handleOnChange(e)} name=\"password\" autoComplete=\"off\" className=\"form-control\" />\n          <span className=\"input-group-addon\">\n            <i className=\"zmdi zmdi-lock\" />\n          </span>\n        </div>\n      </div>\n      <div className=\"footer text-center\">\n        <span className=\"btn l-cyan btn-round btn-lg btn-block waves-effect waves-light\" onClick={handleLogin}>\n          Sign In\n        </span>\n        {/* <span className=\"btn l-cyan btn-round btn-lg btn-block waves-effect waves-light\">\n          <i className=\"zmdi zmdi-facebook\" /> Login Facebook\n        </span>\n        <span className=\"btn l-cyan btn-round btn-lg btn-block waves-effect waves-light\">\n          <i className=\"zmdi zmdi-google\" /> Login Google\n        </span> */}\n        <h6 className=\"m-t-20\">\n          <NavLink to=\"/forgot-password\" className=\"link\">Forgot Password ? </NavLink>\n          <NavLink to=\"/register\" style={{ textDecoration: 'underline', color: 'white' }}>Register</NavLink>\n        </h6>\n      </div>\n    </div>\n  )\n}","import React, { useState } from \"react\"\nimport { NavLink, useHistory } from \"react-router-dom\"\nimport { Dialog, TYPE_DIALOG } from \"../../components/common/Dialog\";\nimport axiosInstance from \"../../config/axios\";\n\nexport const RegisterPage: React.FC = () => {\n  const [info, setInfo] = useState({\n    email: '',\n    username: '',\n    password: ''\n  });\n  const [dialog, setDialog] = useState({\n    open: false,\n    message: '',\n    type: TYPE_DIALOG.ERROR\n  })\n  const [isCheckbox, setIsCheckBox] = useState(false);\n  const history = useHistory();\n\n  const handleOnchange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setInfo({\n      ...info, [name]: value\n    })\n  }\n  const handleCheckbox = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setIsCheckBox(e.target.checked)\n  }\n  const signUp = async () => {\n    try {\n      if (!isCheckbox) {\n        setDialog({\n          ...dialog, open: true, type: TYPE_DIALOG.ERROR, message: 'You need agree to theterms of usage'\n        })\n        return;\n      }\n      if (!info.username.length || !info.password.length || !info.password.length) {\n        setDialog({\n          ...dialog, open: true, type: TYPE_DIALOG.ERROR, message: 'Email or Name or Password should not be empty'\n        })\n        return;\n      }\n      if (!(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(info.email))) {\n        setDialog({\n          ...dialog, open: true, type: TYPE_DIALOG.ERROR, message: 'Email isn\\'t valid'\n        })\n        return;\n      }\n      await axiosInstance.post('/auth/create', info);\n      setDialog({\n        ...dialog, open: true, type: TYPE_DIALOG.SUCCESS, message: 'Account has been created successfully !!!'\n      })\n    } catch (e) {\n      if (e && e.response.data.message) {\n        setDialog({\n          ...dialog,\n          open: true,\n          type: TYPE_DIALOG.ERROR,\n          message: e.response.data.message\n        })\n      }\n    }\n  }\n  const handleDialog = (val: boolean) => {\n    if (dialog.type === TYPE_DIALOG.SUCCESS) {\n      history.push('/login');\n    }\n    setDialog({\n      ...dialog, open: val\n    })\n  }\n\n  return (\n    <div className=\"form\">\n      <Dialog isShow={dialog.open} message={dialog.message} type={dialog.type} onClose={(val) => handleDialog(val)} />\n      <div className=\"header\">\n        <div className=\"logo-container\">\n          <img src=\"assets/images/logo.svg\" alt=\"\" />\n        </div>\n        <h5>Sign Up</h5>\n      </div>\n      <div className=\"content\">\n        <div className=\"input-group\">\n          <input type=\"text\" className=\"form-control\" name=\"username\" onChange={(e) => handleOnchange(e)} placeholder=\"Enter Name\" />\n          <span className=\"input-group-addon\">\n            <i className=\"zmdi zmdi-account-circle\" />\n          </span>\n        </div>\n        <div className=\"input-group\">\n          <input type=\"text\" className=\"form-control\" name=\"email\" onChange={(e) => handleOnchange(e)} placeholder=\"Enter Email\" />\n          <span className=\"input-group-addon\">\n            <i className=\"zmdi zmdi-email\" />\n          </span>\n        </div>\n        <div className=\"input-group\">\n          <input type=\"password\" placeholder=\"Password\" name=\"password\" onChange={(e) => handleOnchange(e)} className=\"form-control\" />\n          <span className=\"input-group-addon\">\n            <i className=\"zmdi zmdi-lock\" />\n          </span>\n        </div>\n      </div>\n      <div className=\"checkbox\">\n        <input id=\"terms\" type=\"checkbox\" onChange={(e) => handleCheckbox(e)} />\n        <label htmlFor=\"terms\">\n          I read and agree to the <span>terms of usage</span>\n        </label>\n      </div>\n      <div className=\"footer text-center\">\n        <span onClick={signUp} className=\"btn l-cyan btn-round btn-lg btn-block waves-effect waves-light\">\n          SIGN UP\n        </span>\n        <h6 className=\"m-t-20\">\n          <NavLink to=\"/login\" className=\"link\" href=\"sign-in.html\">You already have a membership?</NavLink>\n        </h6>\n      </div>\n    </div>\n  )\n}","import React, { useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NavLink, useParams } from \"react-router-dom\";\nimport { socket } from \"../../App\";\nimport { BoxComment } from \"../../components/chat/box-commet\";\nimport { ChatHistory } from \"../../components/chat/chat-hsitory\";\nimport { HeaderInfoUser } from \"../../components/chat/header-info-user\";\nimport { ListUser } from \"../../components/chat/list-user\";\nimport axiosInstance from \"../../config/axios\";\nimport { MessageEntity } from \"../../entity/message.entity\";\nimport { RootState } from \"../../store/root.reducer\";\n\nexport const ChatDetailPage: React.FC = () => {\n  const currentUser = useSelector((state: RootState) => state.auth.user);\n  const [messages, setMessages] = useState<MessageEntity[]>([]);\n  const messageRef = useRef(socket);\n  const listMessageRef = useRef<MessageEntity[]>([])\n  const skipRef = useRef(0);\n  const firstLoad = useRef(true);\n  let endLoad = useRef<boolean>(false);\n  const [count, setCount] = useState(0);\n  const [loading, setLoading] = useState(true)\n  const [loadMore, setLoadMore] = useState(false);\n  const divListMessageRef = useRef<HTMLDivElement>(null)\n  const params = useParams<{ id: string }>();\n  const handleOnScroll = async (e: React.UIEvent<HTMLDivElement>) => {\n    const div = document.querySelector('.chat-history') as HTMLDivElement\n    const scrollTop = Number(div.scrollTop);\n    if (scrollTop === 0 && !loadMore && !endLoad.current) {\n      setLoadMore(true);\n      setTimeout(async () => {\n        const result = await axiosInstance.get('/messages/message-by-id?id=' + params.id + '&skip=' + skipRef.current);\n        if (result.data.rows.length && !endLoad.current) {\n          const dataTemp = [...result.data.rows, ...listMessageRef.current];\n          listMessageRef.current = dataTemp;\n\n          setMessages(listMessageRef.current);\n          setCount(result.data.count);\n          skipRef.current += 20;\n          setLoadMore(false);\n        } else {\n          endLoad.current = true;\n          setLoadMore(false)\n        }\n      }, 1000);\n    }\n\n  }\n  useEffect(() => {\n    async function fetchMessages() {\n      const result = await axiosInstance.get('/messages/message-by-id?id=' + params.id);\n      listMessageRef.current = result.data.rows;\n      setMessages(listMessageRef.current)\n      setCount(result.data.count);\n      skipRef.current += 20;\n      setLoading(false);\n      firstLoad.current = false;\n    }\n    fetchMessages();\n\n  }, [])\n\n  const handleLoadMore = () => {\n    setLoadMore(true);\n    setTimeout(async () => {\n      const result = await axiosInstance.get('/messages/message-by-id?id=' + params.id + '&skip=' + skipRef.current);\n      if (result.data.rows.length && !endLoad.current) {\n        const dataTemp = [...result.data.rows, ...listMessageRef.current];\n        listMessageRef.current = dataTemp;\n\n        setMessages(listMessageRef.current);\n        setCount(result.data.count);\n        skipRef.current += 20;\n        setLoadMore(false);\n      } else {\n        endLoad.current = true;\n        setLoadMore(false)\n      }\n    }, 1000);\n\n  }\n\n  useEffect(() => {\n    if (messages.length) {\n      messageRef.current.on('create_message', (message: MessageEntity) => {\n        if ((currentUser?._id === message.fromId._id && params.id === message.toId._id) ||\n          (currentUser?._id === message.toId._id && params.id === message.fromId._id)\n        ) {\n          setMessages([...messages, message])\n          // divListMessageRef.current?.addEventListener('scroll', (e: any) => handleOnScroll(e))\n          const div = document.querySelector('.chat-history') as HTMLDivElement;\n          if (div) div.scrollTop = div.scrollHeight;\n        }\n      })\n      if (firstLoad.current === true) {\n        setTimeout(() => {\n          divListMessageRef.current?.addEventListener('scroll', (e: any) => handleOnScroll(e))\n          const div = document.querySelector('.chat-history') as HTMLDivElement;\n          if (div) div.scrollTop = div.scrollHeight;\n        }, 500);\n      }\n      return () => {\n        socket.off('create_message');\n      }\n    }\n  }, [messages])\n\n  useEffect(() => {\n\n  }, [])\n  if (loading) return <div>loading....</div>\n  return (\n    <section className=\"content chat_detail\">\n      <div className=\"block-header content__top\">\n        <div className=\"row\">\n          <div className=\"col-lg-7 col-md-6 col-sm-12 div_breadcrumb\">\n            <h2>Chat\n                <small className=\"text-muted\">Welcome to App Chat</small>\n            </h2>\n          </div>\n          <div className=\"col-lg-5 col-md-6 col-sm-12\">\n            <ul className=\"breadcrumb float-md-right\">\n              <li className=\"breadcrumb-item\"><NavLink to=\"/\" href=\"index-2.html\"><i className=\"zmdi zmdi-home\" /> Home</NavLink></li>\n              <li className=\"breadcrumb-item\"><NavLink to=\"/\" >App</NavLink></li>\n              <li className=\"breadcrumb-item active\">Chat</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div className=\"container-fluid content__bottom\">\n        <div className=\"row clearfix\">\n          <div className=\"col-lg-12 col-xl-12\">\n            <div className=\"card chat-app\">\n              <div id=\"plist\" className=\"people-list\">\n                <div className=\"tab-content\">\n                  <div role=\"tabpanel\" className=\"tab-pane slideRight active\" id=\"people\">\n                    <ListUser />\n                  </div>\n                </div>\n              </div>\n              <div className=\"chat\">\n                <HeaderInfoUser count={count} />\n                <div className=\"chat-history\" ref={divListMessageRef}>\n                  <ChatHistory messages={messages} loadMore={loadMore} handleLoadMore={handleLoadMore} endLoad={endLoad.current} />\n                </div>\n                <div className=\"chat-message clearfix\">\n                  <BoxComment />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}","import React, { ChangeEvent, useState } from \"react\"\nimport { NavLink, useHistory } from \"react-router-dom\"\nimport axiosInstance from \"../../config/axios\";\nimport swal from 'sweetalert';\nexport const ChangePasswordPage: React.FC = () => {\n  const history = useHistory()\n  const [state, setState] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  })\n  const [err, setErr] = useState({\n    currentPassword: [false, 'The password not be empty'],\n    newPassword: [false, 'The new password not be empty'],\n    confirmPassword: [false, 'The new password not be empty']\n  });\n  const handleOnchange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setState({\n      ...state, [name]: value\n    })\n    setErr({\n      currentPassword: [false, 'The password not be empty'],\n      newPassword: [false, 'The new password not be empty'],\n      confirmPassword: [false, 'The new password not be empty']\n    })\n  }\n  const handleSubmit = async () => {\n    if (state.currentPassword === '') {\n      setErr({\n        ...err, currentPassword: [true, 'The password not be empty']\n      });\n      return;\n    }\n    if (state.newPassword === '') {\n      setErr({\n        ...err, newPassword: [true, 'The new password not be empty']\n      });\n      return;\n    }\n    if (state.confirmPassword === '') {\n      setErr({\n        ...err, confirmPassword: [true, 'The confirm password not be empty']\n      });\n      return;\n    }\n    if (state.currentPassword === state.newPassword) {\n      setErr({\n        ...err, newPassword: [true, 'The current password and The new password must not be the same']\n      });\n      return;\n    }\n    if (state.confirmPassword !== state.newPassword) {\n      setErr({\n        ...err, confirmPassword: [true, 'The new password and The confirm password don\\'t match']\n      });\n      return;\n    }\n    try {\n      const payload = {\n        currentPassword: state.currentPassword,\n        newPassword: state.newPassword\n      }\n      await axiosInstance.post('/users/change-password', payload);\n      swal({\n        title: \"Success\",\n        text: 'Updated sucessfully !',\n        icon: \"success\",\n        buttons: [\"Close\", false]\n      }).then(() => {\n        localStorage.removeItem('access_token');\n        history.push('/login');\n      });\n    } catch (error) {\n      if (error && error.response.data.message) {\n        swal({\n          title: \"Error!\",\n          text: error.response.data.message,\n          icon: \"error\",\n          buttons: [\"Close\", false]\n        });\n      }\n    }\n  }\n  return (\n    <section className=\"content change_passowrd\">\n      <div className=\"block-header\">\n        <div className=\"row\">\n          <div className=\"col-lg-7 col-md-6 col-sm-12 div_breadcrumb\">\n            <h2>Chat\n              <small className=\"text-muted\">Welcome to App Chat</small>\n            </h2>\n          </div>\n          <div className=\"col-lg-5 col-md-6 col-sm-12\">\n            <ul className=\"breadcrumb float-md-right\">\n              <li className=\"breadcrumb-item\"><NavLink to=\"/\" href=\"index-2.html\"><i className=\"zmdi zmdi-home\" /> Home</NavLink></li>\n              <li className=\"breadcrumb-item\"><NavLink to=\"/\" >App</NavLink></li>\n              <li className=\"breadcrumb-item active\">Form</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div className=\"container-fluid\">\n        {/* Basic Validation */}\n        <div className=\"row clearfix\">\n          <div className=\"col-lg-12 col-md-12 col-sm-12\">\n            <div className=\"card\">\n              <div className=\"header text-center\">\n                <h1>Change Password</h1>\n              </div>\n              <div className=\"body\">\n                <div id=\"form_validation\">\n                  <div className=\"form-group form-float\">\n                    <input type=\"text\" className={'form-control ' + (err.currentPassword[0] ? 'border--red' : '')} value={state.currentPassword} placeholder=\"Password Current\" onChange={(e) => handleOnchange(e)} name=\"currentPassword\" />\n                    {err.currentPassword[0] && <span className=\"color--red ml-3\">{err.confirmPassword[1]}</span>}\n                  </div>\n                  <div className=\"form-group form-float\">\n                    <input type=\"text\" className={'form-control ' + (err.newPassword[0] ? 'border--red' : '')} value={state.newPassword} placeholder=\"New Password\" onChange={(e) => handleOnchange(e)} name=\"newPassword\" />\n                    {err.newPassword[0] && <span className=\"color--red ml-3\">{err.newPassword[1]}</span>}\n                  </div>\n                  <div className=\"form-group form-float\">\n                    <input type=\"email\" className={'form-control ' + (err.confirmPassword[0] ? 'border--red' : '')} value={state.confirmPassword} placeholder=\"Confirm Password\" onChange={(e) => handleOnchange(e)} name=\"confirmPassword\" />\n                    {err.confirmPassword[0] && <span className=\"color--red ml-3\">{err.confirmPassword[1]}</span>}\n                  </div>\n                  <div className=\"form-group\">\n                    <div>\n                      <NavLink to='/profile'><i className=\"zmdi zmdi-long-arrow-right\" />&nbsp; Profile ???</NavLink>\n                    </div>\n                  </div>\n                  <button className=\"btn btn-raised btn-primary btn-round waves-effect\" onClick={handleSubmit}>SUBMIT</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}","import React from 'react';\nimport './App.sass';\nimport { Router, Switch } from \"react-router-dom\";\nimport { CustomRoute } from './routes/configRoute';\nimport { ListRoutes } from './routes/routes';\nimport { io, Socket } from 'socket.io-client';\nimport { history } from './config/history';\n\nexport const socket: Socket = io('/socket' as string, {\n  transports: ['websocket'],\n  auth: {\n    token: localStorage.getItem('access_token') || ''\n  }\n})\n\nconst App: React.FC = () => {\n  return (\n    <Router history={history}>\n      <Switch>\n        {\n          ListRoutes.map((route, i) =>\n            <CustomRoute\n              key={i}\n              exact={route.exact}\n              component={route.component}\n              path={route.path}\n              isAuth={route.isAuth}\n              layout={route.layout}\n            />\n          )\n        }\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { UserEntity } from \"../../../entity/user.entity\";\nimport { FETCH_USER, LOGOUT_USER, LOGIN, AuthenticateTypes, UPDATE_USER_ONLINES } from \"../../types/authenticate.type\";\n\nexport interface Authenticate {\n  isAuth: boolean,\n  access_token: string,\n  user: UserEntity | undefined\n  user_onlines: Array<string>\n}\nconst initialState: Authenticate = {\n  isAuth: false,\n  access_token: localStorage.getItem('access_token') || '',\n  user: undefined,\n  user_onlines: []\n}\n\nexport function AuthenticateReducer(state = initialState, action: AuthenticateTypes) {\n  switch (action?.type) {\n    case LOGIN:\n      return { ...state, isAuth: true, token: action?.payload?.access_token, user: action.payload.user }\n    case FETCH_USER:\n      return { ...state, user: action.payload.user }\n    case LOGOUT_USER:\n      return { ...state, isAuth: false }\n    case UPDATE_USER_ONLINES:\n      return { ...state, user_onlines: action.payload.listUserId }\n    default:\n      return { ...state };\n  }\n}","import { combineReducers } from \"redux\";\nimport { AuthenticateReducer } from \"./reducers/authenticate/authenticate.reducer\";\n\nexport const rootReducers = combineReducers({\n  auth: AuthenticateReducer\n})\nexport type RootState = ReturnType<typeof rootReducers>","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducers } from '../store/root.reducer';\n\nconst composeEnhancers = process.env.NODE_ENV === \"development\"\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n    : compose;\n\nconst configureStore = () => {\n    const middlewares = [thunk];\n    const enhancers = [applyMiddleware(...middlewares)];\n    const store = createStore(rootReducers, composeEnhancers(...enhancers));\n    return store;\n}\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport configureStore from './redux/configStore';\nconst store = configureStore();\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}